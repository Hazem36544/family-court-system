<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ÙØ­Øµ Ø§Ù„Ù€ JSON</title>
    <style>
        body { font-family: monospace; background: #1e1e1e; color: #d4d4d4; padding: 20px; direction: ltr; }
        h1 { text-align: center; color: #61dafb; }
        pre { background: #000; padding: 15px; border-radius: 10px; border: 1px solid #333; overflow-x: auto; }
        .success { color: #4caf50; }
        .error { color: #f44336; }
    </style>
</head>
<body>
    <h1>Console Inspector ğŸ•µï¸â€â™‚ï¸</h1>
    <h3 style="text-align: center;">Ø§Ø¶ØºØ· F12 ÙˆØ´ÙˆÙ Ø§Ù„Ù€ Console Table</h3>
    <div id="result">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¬Ù„Ø¨...</div>

    <script>
        async function runTest() {
            console.clear();
            console.log("ğŸš€ ... Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ù„Ø¬Ù„Ø¨ Ø§Ù„Ù€ JSON");
            const resultDiv = document.getElementById('result');

            // Ø§Ù„ØªÙˆÙƒÙ† Ø¨ØªØ§Ø¹Ùƒ
            const token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1NTk2NDg2OC03Mzc2LTQ0ODEtYTc3Ny1lZDdiNjE1N2IxZDMiLCJyb2xlSWQiOiIwZWQxYmU5Ni0wYzQ0LTQ3MzctODZlNS02MTJjNThkOWEwYTEiLCJyb2xlIjoiQ291cnRTdGFmZiIsInRtcF9wd2QiOiJGYWxzZSIsImlhdCI6MTc3MTMzNTY0MiwiY291cnRJZCI6ImYxZDlhMTZjLWY4YTYtNDQzMC1iZWU3LWZiOGQ0OTM1NTNiMyIsIm5iZiI6MTc3MTMzNTY0MiwiZXhwIjoxNzcxMzM1NjQyLCJpc3MiOiJXZXNhbEFwaSIsImF1ZCI6Ildlc2FsQ2xpZW50In0.gOuMNxV11FYG3qYsCDcIFIySlN3RT5WaC7nE2Hj9wFo"; 

            try {
                // Ù‡Ù†Ø¬Ø±Ø¨ Ù†Ø·Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                const url = 'http://wesal.runasp.net/api/courts/me/families?PageSize=10&PageNumber=1';

                const response = await fetch(url, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                console.log("ğŸ“¡ Status Code:", response.status);
                const data = await response.json();

                // ========================================================
                // ğŸ§ Ù‡Ù†Ø§ Ø§Ù„Ø®Ù„Ø§ØµØ©: Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ù†Ø¶ÙŠÙ
                // ========================================================
                
                console.log("ğŸ“¦ Ø§Ù„Ø±Ø¯ Ø§Ù„Ø®Ø§Ù… (Raw Object):", data);

                // Ù„Ùˆ Ø§Ù„Ø±Ø¯ ÙÙŠÙ‡ Ù…ØµÙÙˆÙØ© Ø§Ø³Ù…Ù‡Ø§ items (ÙˆØ¯Ù‡ Ø§Ù„ØºØ§Ù„Ø¨ ÙÙŠ Ø§Ù„Ù€ Pagination)
                if (data.items && Array.isArray(data.items)) {
                    console.log("ğŸ“Š Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Array of Objects):");
                    console.table(data.items); // <--- Ø¯ÙŠ Ø§Ù„Ù„ÙŠ Ù‡ØªØ¹Ø±Ø¶Ù„Ùƒ Ø§Ù„Ø¬Ø¯ÙˆÙ„
                } else if (Array.isArray(data)) {
                    console.table(data);
                }

                // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø©
                if (response.ok) {
                    resultDiv.innerHTML = `
                        <h2 class="success">âœ… ØªÙ… Ø§Ù„Ø¬Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ (Status: ${response.status})</h2>
                        <p>Ø´ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (JSON Structure):</p>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    `;
                } else {
                    resultDiv.innerHTML = `
                        <h2 class="error">âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ (Status: ${response.status})</h2>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    `;
                }

            } catch (error) {
                console.error("ğŸ’¥ Error:", error);
                resultDiv.innerHTML = `<h2 class="error">ğŸ’¥ Network Error</h2><p>${error.message}</p>`;
            }
        }

        runTest();
    </script>
</body>
</html>